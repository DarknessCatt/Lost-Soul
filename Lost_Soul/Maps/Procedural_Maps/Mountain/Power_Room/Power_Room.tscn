[gd_scene load_steps=11 format=2]

[ext_resource path="res://Maps/Util/Mountain_Polygon/Mountain_Polygon.tscn" type="PackedScene" id=1]
[ext_resource path="res://Maps/Util/Room_Exit/RoomExit.tscn" type="PackedScene" id=2]
[ext_resource path="res://Maps/Procedural_Maps/Mountain/Power_Room/Power_Room.gd" type="Script" id=3]
[ext_resource path="res://Classes/Exit.gd" type="Script" id=4]

[sub_resource type="Resource" id=1]
script = ExtResource( 4 )
id = 0
direction = 2
position = Vector2( 0, 0 )

[sub_resource type="Resource" id=2]
script = ExtResource( 4 )
id = 1
direction = 0
position = Vector2( 0, 0 )

[sub_resource type="Resource" id=3]
script = ExtResource( 4 )
id = 2
direction = 3
position = Vector2( 0, 0 )

[sub_resource type="Resource" id=4]
script = ExtResource( 4 )
id = 3
direction = 1
position = Vector2( 0, 0 )

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 8, 88 )

[sub_resource type="RectangleShape2D" id=6]
extents = Vector2( 48, 8 )

[node name="Power_Room" type="Node2D"]
script = ExtResource( 3 )
room_type = 2
exits = [ SubResource( 1 ), SubResource( 2 ), SubResource( 3 ), SubResource( 4 ) ]

[node name="Room" type="Node2D" parent="."]

[node name="BG" parent="Room" instance=ExtResource( 1 )]
color = Color( 0.172549, 0.133333, 0.129412, 1 )
polygon = PoolVector2Array( 0, 0, 1024, 0, 1024, 600, 0, 600 )
type = 2

[node name="Left_Floor" parent="Room" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 0, 600, 408, 600, 408, 512, 392, 512, 376, 416, 320, 416, 256, 512, 0, 512 )
type = 4

[node name="Left_Ceil" parent="Room" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 0, 320, 0, 0, 408, 0, 408, 64, 128, 64, 64, 128, 64, 320 )
type = 4

[node name="Right_Floor" parent="Room" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 536, 600, 536, 512, 552, 512, 600, 384, 640, 384, 704, 512, 1024, 512, 1024, 600 )
type = 4

[node name="Right_Ceil" parent="Room" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 512, 64, 512, 0, 1024, 0, 1024, 320, 960, 320, 960, 128, 896, 64 )
type = 4

[node name="Plataform" parent="Room" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 384, 224, 384, 192, 576, 192, 576, 224 )
type = 4

[node name="Walls" type="StaticBody2D" parent="Room"]
collision_layer = 16

[node name="Left_Floor" type="CollisionPolygon2D" parent="Room/Walls"]
polygon = PoolVector2Array( -40, 312, 0, 312, 0, 320, -32, 320, -32, 512, 256, 512, 320, 416, 378.521, 416, 392, 512, 408, 512, 408, 600, 408, 656, 536, 656, 536, 600, 544, 600, 544, 664, 400, 664, 400, 600, -40, 600 )

[node name="Left_Ceil" type="CollisionPolygon2D" parent="Room/Walls"]
polygon = PoolVector2Array( 64, 320, 64, 128, 128, 64, 408, 64, 408, 0, 408, -56, 512, -56, 512, 0, 520, 0, 520, -64, 400, -64, 400, 0, 0, 0, 0, 320 )

[node name="Right_Floor" type="CollisionPolygon2D" parent="Room/Walls"]
polygon = PoolVector2Array( 552, 512, 600, 384, 640, 384, 704, 512, 1056, 512, 1056, 320, 1024, 320, 1024, 312, 1064, 312, 1064, 512, 1064, 600, 536, 600, 536, 512 )

[node name="Right_Ceil" type="CollisionPolygon2D" parent="Room/Walls"]
polygon = PoolVector2Array( 512, 64, 896, 64, 960, 128, 960, 320, 1024, 320, 1024, 0, 512, 0 )

[node name="Platform" type="CollisionPolygon2D" parent="Room/Walls"]
polygon = PoolVector2Array( 384, 192, 384, 224, 576, 224, 576, 192 )

[node name="Blocks" type="Node2D" parent="."]

[node name="0" parent="Blocks" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 0, 320, 64, 320, 64, 512, 0, 512 )
type = 4

[node name="Wall" type="StaticBody2D" parent="Blocks/0"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/0/Wall"]
polygon = PoolVector2Array( 0, 320, 64, 320, 64, 512, 0, 512 )

[node name="1" parent="Blocks" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 408, 64, 512, 64, 512, 0, 408, 0 )
type = 4

[node name="Wall" type="StaticBody2D" parent="Blocks/1"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/1/Wall"]
polygon = PoolVector2Array( 408, 0, 408, 64, 512, 64, 512, 0 )

[node name="2" parent="Blocks" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 960, 320, 960, 512, 1024, 512, 1024, 320 )
type = 4

[node name="Wall" type="StaticBody2D" parent="Blocks/2"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/2/Wall"]
polygon = PoolVector2Array( 960, 320, 960, 512, 1024, 512, 1024, 320 )

[node name="3" parent="Blocks" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 376, 416, 592, 416, 592, 600, 376, 600 )
type = 4

[node name="Wall" type="StaticBody2D" parent="Blocks/3"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/3/Wall"]
polygon = PoolVector2Array( 376, 416, 592, 416, 592, 432, 376, 432 )

[node name="Exits" type="Node2D" parent="."]

[node name="0" parent="Exits" instance=ExtResource( 2 )]
position = Vector2( -24, 416 )

[node name="area" type="CollisionShape2D" parent="Exits/0"]
shape = SubResource( 5 )

[node name="1" parent="Exits" instance=ExtResource( 2 )]
position = Vector2( 464, -48 )
exit_id = 1

[node name="area" type="CollisionShape2D" parent="Exits/1"]
shape = SubResource( 6 )

[node name="2" parent="Exits" instance=ExtResource( 2 )]
position = Vector2( 1048, 416 )
exit_id = 2

[node name="area" type="CollisionShape2D" parent="Exits/2"]
shape = SubResource( 5 )

[node name="3" parent="Exits" instance=ExtResource( 2 )]
position = Vector2( 472, 648 )
exit_id = 3

[node name="area" type="CollisionShape2D" parent="Exits/3"]
shape = SubResource( 6 )

[node name="Entrances" type="Node2D" parent="."]

[node name="0" type="Position2D" parent="Entrances"]
position = Vector2( 32, 416 )

[node name="1" type="Position2D" parent="Entrances"]
position = Vector2( 472, 104 )

[node name="2" type="Position2D" parent="Entrances"]
position = Vector2( 984, 416 )

[node name="3" type="Position2D" parent="Entrances"]
position = Vector2( 352, 320 )
[connection signal="exit_entered" from="Exits/0" to="." method="_on_exit_entered"]
[connection signal="exit_entered" from="Exits/1" to="." method="_on_exit_entered"]
[connection signal="exit_entered" from="Exits/2" to="." method="_on_exit_entered"]
[connection signal="exit_entered" from="Exits/3" to="." method="_on_exit_entered"]
