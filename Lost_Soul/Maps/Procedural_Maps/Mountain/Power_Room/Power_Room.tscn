[gd_scene load_steps=12 format=2]

[ext_resource path="res://Maps/Util/Mountain_Polygon/Mountain_Polygon.tscn" type="PackedScene" id=1]
[ext_resource path="res://Maps/Util/Room_Exit/RoomExit.tscn" type="PackedScene" id=2]
[ext_resource path="res://Maps/Procedural_Maps/Mountain/Power_Room/Power_Room.gd" type="Script" id=3]
[ext_resource path="res://Classes/Exit.gd" type="Script" id=4]
[ext_resource path="res://Entities/Map_Elements/One_Way_Platform/One_Way_Platform.tscn" type="PackedScene" id=5]

[sub_resource type="Resource" id=1]
script = ExtResource( 4 )
id = 0
direction = 2
position = Vector2( 0, 0 )

[sub_resource type="Resource" id=2]
script = ExtResource( 4 )
id = 1
direction = 0
position = Vector2( 0, 0 )

[sub_resource type="Resource" id=3]
script = ExtResource( 4 )
id = 2
direction = 3
position = Vector2( 0, 0 )

[sub_resource type="Resource" id=4]
script = ExtResource( 4 )
id = 3
direction = 1
position = Vector2( 0, 0 )

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 8, 88 )

[sub_resource type="RectangleShape2D" id=6]
extents = Vector2( 48, 8 )

[node name="Power_Room" type="Node2D"]
script = ExtResource( 3 )
room_type = 2
exits = [ SubResource( 1 ), SubResource( 2 ), SubResource( 3 ), SubResource( 4 ) ]

[node name="Room" type="Node2D" parent="."]

[node name="BG" parent="Room" instance=ExtResource( 1 )]
color = Color( 0.172549, 0.133333, 0.129412, 1 )
polygon = PoolVector2Array( 0, 0, 1024, 0, 1024, 600, 0, 600 )
type = 2

[node name="One_Way_Platform" parent="Room" instance=ExtResource( 5 )]
position = Vector2( 472, 575.775 )
scale = Vector2( 1.2, 1 )

[node name="Left_Floor" parent="Room" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 0, 600, 400, 600, 408, 584, 400, 568, 376, 560, 344, 528, 320, 520, 296, 512, 272, 512, 216, 528, 136, 528, 80, 512, 0, 512 )
type = 4

[node name="Hard_Rock" parent="Room/Left_Floor" instance=ExtResource( 1 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 0, 528, 80, 536, 128, 560, 176, 568, 232, 560, 256, 544, 288, 536, 320, 544, 336, 568, 352, 592, 360, 600, 0, 600 )
type = 3

[node name="Left_Ceil" parent="Room" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 0, 320, 0, 0, 544, 0, 544, 16, 528, 40, 464, 64, 392, 56, 312, 72, 248, 72, 200, 88, 176, 72, 128, 64, 88, 72, 56, 104, 48, 144, 48, 224, 48, 264, 64, 320, 56, 328, 40, 336, 16, 320 )
type = 4

[node name="Hard_Rock" parent="Room/Left_Ceil" instance=ExtResource( 1 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 0, 296, 24, 304, 40, 312, 40, 296, 16, 240, 16, 184, 24, 72, 64, 48, 112, 48, 184, 40, 216, 48, 272, 32, 376, 32, 456, 48, 488, 32, 496, 8, 488, 0, 0, 0 )
type = 3

[node name="Right_Floor" parent="Room" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 544, 600, 536, 584, 544, 568, 552, 560, 576, 552, 600, 528, 624, 520, 648, 520, 680, 536, 720, 536, 752, 528, 800, 528, 840, 512, 872, 512, 920, 520, 960, 512, 1024, 512, 1024, 600 )
type = 4

[node name="Hard_Rock" parent="Room/Right_Floor" instance=ExtResource( 1 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 584, 600, 568, 584, 584, 568, 608, 560, 632, 544, 648, 544, 672, 560, 728, 568, 776, 560, 832, 536, 848, 536, 880, 544, 904, 560, 928, 568, 952, 560, 1000, 552, 1024, 536, 1024, 600 )
type = 3

[node name="Right_Ceil" parent="Room" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 704, 56, 672, 40, 656, 24, 656, 0, 1024, 0, 1024, 320, 1000, 320, 976, 328, 960, 320, 952, 304, 952, 272, 960, 248, 968, 192, 960, 128, 936, 88, 896, 64, 864, 56, 800, 48, 768, 48 )
type = 4

[node name="Hard_Rock" parent="Room/Right_Ceil" instance=ExtResource( 1 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 680, 0, 696, 16, 752, 32, 864, 24, 912, 32, 984, 64, 1000, 104, 992, 176, 984, 240, 976, 280, 984, 296, 1008, 304, 1024, 296, 1024, 0 )
type = 3

[node name="Platform" parent="Room" instance=ExtResource( 1 )]
position = Vector2( 0, -48 )
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 320, 320, 704, 320, 704, 328, 672, 352, 520, 352, 512, 360, 504, 352, 352, 352, 320, 328 )
type = 4

[node name="Middle" parent="Room/Platform" instance=ExtResource( 1 )]
position = Vector2( 0, -0.451233 )
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 336, 328, 480, 328, 504, 304, 520, 304, 544, 328, 696, 328, 672, 343.549, 520, 344, 512, 360, 504, 344, 352, 344 )
type = 3

[node name="Walls" type="StaticBody2D" parent="Room"]
collision_layer = 16

[node name="Left_Floor" type="CollisionPolygon2D" parent="Room/Walls"]
polygon = PoolVector2Array( -40, 312, 0, 312, 0, 320, -32, 320, -32, 512, 80, 512, 136, 528, 216, 528, 272, 512, 296, 512, 344, 528, 376, 560, 400, 568, 408, 584, 400, 600, 408, 696, 536, 696, 544, 600, 552, 600, 544, 704, 400, 704, 392, 600, -40, 600 )

[node name="Left_Ceil" type="CollisionPolygon2D" parent="Room/Walls"]
polygon = PoolVector2Array( 64, 320, 48, 264, 56, 104, 96, 72, 144, 64, 200, 88, 256, 72, 400, 56, 464, 64, 528, 40, 544, 16, 544, 0, 544, -80, 656, -80, 656, 0, 664, 0, 664, -88, 536, -88, 536, 0, 0, 0, 0, 320, 16, 320, 40, 336 )

[node name="Right_Floor" type="CollisionPolygon2D" parent="Room/Walls"]
position = Vector2( 8, 0 )
polygon = PoolVector2Array( 544, 560, 568, 552, 592, 528, 616, 520, 640, 520, 672, 536, 712, 536, 744, 528, 792, 528, 832, 512, 864, 512, 912, 520, 952, 512, 1056, 512, 1056, 320, 1024, 320, 1024, 312, 1064, 312, 1064, 512, 1064, 600, 536, 600, 528, 584, 536, 568 )

[node name="Right_Ceil" type="CollisionPolygon2D" parent="Room/Walls"]
polygon = PoolVector2Array( 704, 56, 784, 48, 896, 64, 960, 128, 968, 192, 960, 248, 952, 272, 952, 304, 960, 320, 976, 328, 1000, 320, 1024, 320, 1024, 0, 656, 0, 656, 24, 672, 40 )

[node name="Platform" type="CollisionPolygon2D" parent="Room/Walls"]
position = Vector2( 0, -48 )
polygon = PoolVector2Array( 320, 320, 320, 328, 352, 352, 672, 352, 704, 328, 704, 320, 536.608, 320, 520, 304, 504, 304, 488, 320 )

[node name="Blocks" type="Node2D" parent="."]

[node name="0" parent="Blocks" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 0, 320, 64, 320, 64, 336, 48, 360, 40, 408, 40, 464, 48, 504, 64, 512, 0, 512 )
type = 4

[node name="Hard_Rock" parent="Blocks/0" instance=ExtResource( 1 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 40, 312, 32, 336, 16, 400, 24, 504, 80, 536, 0, 528, 0, 296, 24, 304 )
type = 3

[node name="Wall" type="StaticBody2D" parent="Blocks/0"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/0/Wall"]
polygon = PoolVector2Array( 0, 320, 64, 320, 64, 336, 48, 360, 40, 408, 40, 464, 48, 504, 64, 512, 0, 512 )

[node name="1" parent="Blocks" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 528, 40, 544, 32, 576, 24, 632, 24, 672, 40, 656, 24, 656, 0, 544, 0, 544, 16 )
type = 4

[node name="Hard_Rock" parent="Blocks/1" instance=ExtResource( 1 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 696, 16, 624, 8, 584, 8, 536, 16, 488, 32, 488, 0, 680, 0 )
type = 3

[node name="Wall" type="StaticBody2D" parent="Blocks/1"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/1/Wall"]
polygon = PoolVector2Array( 528, 40, 552, 0, 656, 0, 672, 40, 632, 24, 576, 24, 544, 32 )

[node name="2" parent="Blocks" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 952, 304, 968, 336, 976, 368, 984, 400, 976, 464, 968, 496, 952, 512, 920, 520, 1024, 512, 1024, 320 )
type = 4

[node name="Hard_Rock" parent="Blocks/2" instance=ExtResource( 1 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 984, 296, 992, 328, 1008, 352, 1000, 408, 1008, 448, 992, 496, 968, 544, 928, 568, 1024, 568, 1024, 296 )
type = 3

[node name="Wall" type="StaticBody2D" parent="Blocks/2"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/2/Wall"]
polygon = PoolVector2Array( 960, 320, 968, 336, 984, 400, 976, 464, 968, 496, 952, 512, 920, 520, 1024, 512, 1024, 320 )

[node name="3" parent="Blocks" instance=ExtResource( 1 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 376, 560, 408, 568, 440, 560, 488, 560, 528, 568, 544, 568, 552, 560, 544, 600, 392, 600 )
type = 4

[node name="Hard_Rock" parent="Blocks/3" instance=ExtResource( 1 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 408, 592, 464, 576, 480, 568, 520, 584, 552, 592, 568, 584, 584, 600, 344, 600, 336, 576 )
type = 3

[node name="Wall" type="StaticBody2D" parent="Blocks/3"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/3/Wall"]
polygon = PoolVector2Array( 376, 560, 408, 568, 440, 560, 488, 560, 528, 568, 544, 568, 552, 560, 544, 600, 392, 600 )

[node name="Exits" type="Node2D" parent="."]

[node name="0" parent="Exits" instance=ExtResource( 2 )]
position = Vector2( -24, 416 )

[node name="area" type="CollisionShape2D" parent="Exits/0"]
shape = SubResource( 5 )

[node name="1" parent="Exits" instance=ExtResource( 2 )]
position = Vector2( 600, -48 )
exit_id = 1

[node name="area" type="CollisionShape2D" parent="Exits/1"]
shape = SubResource( 6 )

[node name="2" parent="Exits" instance=ExtResource( 2 )]
position = Vector2( 1048, 416 )
exit_id = 2

[node name="area" type="CollisionShape2D" parent="Exits/2"]
shape = SubResource( 5 )

[node name="3" parent="Exits" instance=ExtResource( 2 )]
position = Vector2( 472, 648 )
exit_id = 3

[node name="area" type="CollisionShape2D" parent="Exits/3"]
shape = SubResource( 6 )

[node name="Entrances" type="Node2D" parent="."]

[node name="0" type="Position2D" parent="Entrances"]
position = Vector2( 32, 464 )
__meta__ = {
"_gizmo_extents_": 50.0
}

[node name="1" type="Position2D" parent="Entrances"]
position = Vector2( 600, 24 )
__meta__ = {
"_gizmo_extents_": 50.0
}

[node name="2" type="Position2D" parent="Entrances"]
position = Vector2( 984, 464 )
__meta__ = {
"_gizmo_extents_": 50.0
}

[node name="3" type="Position2D" parent="Entrances"]
position = Vector2( 472, 384 )
__meta__ = {
"_gizmo_extents_": 50.0
}
[connection signal="exit_entered" from="Exits/0" to="." method="_on_exit_entered"]
[connection signal="exit_entered" from="Exits/1" to="." method="_on_exit_entered"]
[connection signal="exit_entered" from="Exits/2" to="." method="_on_exit_entered"]
[connection signal="exit_entered" from="Exits/3" to="." method="_on_exit_entered"]
