[gd_scene load_steps=8 format=2]

[ext_resource path="res://Maps/Util/Standart_Room/Standart_Room.tscn" type="PackedScene" id=1]
[ext_resource path="res://Maps/Procedural_Maps/Mountain/Checkpoint/Checkpoint_Room.gd" type="Script" id=2]
[ext_resource path="res://Maps/Util/Mountain_Polygon/Mountain_Polygon.tscn" type="PackedScene" id=3]
[ext_resource path="res://Entities/Map_Elements/One_Way_Platform/One_Way_Platform.tscn" type="PackedScene" id=4]
[ext_resource path="res://Maps/Util/Room_Exit/RoomExit.tscn" type="PackedScene" id=5]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 8, 48 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 56, 8 )

[node name="Checkpoint_Room" instance=ExtResource( 1 )]
script = ExtResource( 2 )
room_type = 5

[node name="BG" parent="Room" index="0" instance=ExtResource( 3 )]
color = Color( 0.172549, 0.133333, 0.129412, 1 )
polygon = PoolVector2Array( 0, 0, 1024, 0, 1024, 600, 0, 600 )
type = 2

[node name="Left_Floor" parent="Room" index="1" instance=ExtResource( 3 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 0, 320, 152, 320, 208, 344, 224, 408, 264, 416, 280, 504, 368, 520, 448, 576, 448, 600, 0, 600 )
type = 4

[node name="Inner" parent="Room/Left_Floor" index="0" instance=ExtResource( 3 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 0, 368, 64, 360, 152, 376, 200, 448, 208, 520, 272, 576, 392, 584, 416, 600, 0, 600 )
type = 3

[node name="Right_Floor" parent="Room" index="2" instance=ExtResource( 3 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 576, 600, 576, 576, 600, 560, 680, 528, 768, 528, 824, 536, 848, 424, 904, 408, 936, 304, 1024, 304, 1024, 600 )
type = 4

[node name="Inner" parent="Room/Right_Floor" index="0" instance=ExtResource( 3 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 624, 600, 672, 568, 744, 552, 816, 576, 856, 544, 888, 448, 944, 424, 960, 376, 1024, 328, 1024, 600 )
type = 3

[node name="Middle" parent="Room" index="3" instance=ExtResource( 3 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 336, 272, 400, 224, 432, 208, 592, 208, 632, 224, 704, 272, 704, 320, 640, 376, 512, 392, 408, 376, 336, 320 )
type = 4

[node name="Inner" parent="Room/Middle" index="0" instance=ExtResource( 3 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 424, 344, 392, 296, 432, 264, 520, 240, 568, 280, 624, 280, 672, 312, 536, 360 )
type = 3

[node name="Left_Ceiling" parent="Room" index="4" instance=ExtResource( 3 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 0, 192, 72, 144, 128, 72, 272, 32, 376, 48, 440, 40, 448, 0, 0, 0 )
type = 4

[node name="Inner" parent="Room/Left_Ceiling" index="0" instance=ExtResource( 3 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 0, 144, 40, 112, 72, 48, 128, 16, 248, 8, 352, 24, 408, 24, 432, 0, 0, 0 )
type = 3

[node name="Right_Ceiling2" parent="Room" index="5" instance=ExtResource( 3 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 584, 0, 616, 48, 752, 72, 832, 112, 904, 96, 976, 136, 1024, 200, 1024, 0 )
type = 4

[node name="Inner" parent="Room/Right_Ceiling2" index="0" instance=ExtResource( 3 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 632, 0, 680, 24, 776, 24, 808, 64, 840, 72, 904, 40, 992, 104, 1024, 152, 1024, 0 )
type = 3

[node name="One_Way_Platform" parent="Room" index="6" instance=ExtResource( 4 )]
position = Vector2( 512, 584 )

[node name="Left_Floor" type="CollisionPolygon2D" parent="Room/Wall" index="0"]
polygon = PoolVector2Array( 152, 320, 208, 344, 224, 408, 264, 416, 280, 504, 368, 520, 448, 576, 448, 600, 0, 600, 0, 328, -48, 328, -48, 184, 0, 184, 0, 192, -40, 192, -40, 320 )

[node name="Right_Floor" type="CollisionPolygon2D" parent="Room/Wall" index="1"]
polygon = PoolVector2Array( 440, 600, 440, 704, 584, 704, 584, 600, 1024, 600, 1024, 304, 936, 304, 904, 408, 848, 424, 824, 536, 768, 528, 680, 528, 600, 560, 576, 576, 576, 599.033, 576, 696, 448, 696, 448, 600 )

[node name="Left_Ceil" type="CollisionPolygon2D" parent="Room/Wall" index="2"]
polygon = PoolVector2Array( 0, 192, 72, 144, 128, 72, 272, 32, 376, 48, 440, 40, 448, 0, 448, -104, 584, -104, 584, 0, 592, 0, 592, -112, 440, -112, 440, 0, 0, 0 )

[node name="Right_Ceil" type="CollisionPolygon2D" parent="Room/Wall" index="3"]
polygon = PoolVector2Array( 584, 0, 616, 48, 752, 72, 832, 112, 904, 96, 976, 136, 1024, 200, 1064, 200, 1064, 304, 1024, 304, 1024, 312, 1072, 312, 1072, 192, 1024, 192, 1024, 0 )

[node name="Middle" type="CollisionPolygon2D" parent="Room/Wall" index="4"]
polygon = PoolVector2Array( 336, 272, 336, 320, 408, 376, 512, 392, 640, 376, 704, 320, 704, 272, 632, 224, 592, 208, 432, 208, 400, 224 )

[node name="0" parent="Blocks" index="0" instance=ExtResource( 3 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 152, 320, 112, 272, 96, 168, 176, 72, 272, 32, 248, 8, 128, 72, 72, 144, 0, 192, 0, 320 )
type = 4

[node name="Inner" parent="Blocks/0" index="0" instance=ExtResource( 3 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 0, 368, 56, 360, 152, 376, 72, 280, 48, 184, 104, 80, 248, 8, 0, 16 )
type = 3

[node name="block" type="StaticBody2D" parent="Blocks/0" index="1"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/0/block" index="0"]
polygon = PoolVector2Array( 152, 320, 112, 272, 96, 168, 176, 72, 272, 32, 72, 32, 72, 320 )

[node name="1" parent="Blocks" index="1" instance=ExtResource( 3 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 376, 48, 440, 48, 480, 72, 544, 80, 648, 64, 752, 72, 616, 48, 584, 0, 448, 0 )
type = 4

[node name="Inner" parent="Blocks/1" index="0" instance=ExtResource( 3 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 408, 24, 488, 40, 552, 48, 600, 32, 656, 32, 808, 64, 808, 0, 408, 0 )
type = 3

[node name="block" type="StaticBody2D" parent="Blocks/1" index="1"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/1/block" index="0"]
polygon = PoolVector2Array( 376, 48, 440, 48, 480, 72, 544, 80, 640, 64, 752, 72, 752, 32, 376, 24 )

[node name="2" parent="Blocks" index="2" instance=ExtResource( 3 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 936, 304, 944, 232, 928, 192, 888, 144, 832, 112, 904, 96, 1000, 200, 1000, 304 )
type = 4

[node name="Inner" parent="Blocks/2" index="0" instance=ExtResource( 3 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 840, 72, 880, 96, 944, 152, 984, 264, 968, 312, 960, 376, 1024, 328, 1024, 80, 904, 40 )
type = 3

[node name="block" type="StaticBody2D" parent="Blocks/2" index="1"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/2/block" index="0"]
polygon = PoolVector2Array( 832, 112, 888, 144, 928, 192, 944, 232, 936, 304, 968, 304, 960, 112 )

[node name="3" parent="Blocks" index="3" instance=ExtResource( 3 )]
color = Color( 0.364706, 0.321569, 0.305882, 1 )
polygon = PoolVector2Array( 152, 320, 216, 312, 280, 320, 320, 312, 336, 272, 416, 376, 640, 376, 704, 272, 736, 304, 792, 320, 880, 304, 936, 304, 936, 408, 152, 416 )
type = 4

[node name="Inner" parent="Blocks/3" index="0" instance=ExtResource( 3 )]
color = Color( 0.266667, 0.227451, 0.219608, 1 )
polygon = PoolVector2Array( 152, 376, 224, 352, 280, 344, 344, 352, 392, 296, 672, 312, 744, 344, 856, 328, 920, 336, 960, 376, 968, 600, 152, 600 )
type = 3

[node name="block" type="StaticBody2D" parent="Blocks/3" index="1"]
collision_layer = 16

[node name="coll" type="CollisionPolygon2D" parent="Blocks/3/block" index="0"]
polygon = PoolVector2Array( 152, 320, 208, 312, 272, 320, 320, 312, 336, 272, 704, 272, 736, 304, 792, 320, 872, 304, 936, 304, 936, 352, 152, 368 )

[node name="0" parent="Exits" index="0" instance=ExtResource( 5 )]
position = Vector2( -32, 256 )

[node name="area" type="CollisionShape2D" parent="Exits/0" index="0"]
shape = SubResource( 1 )

[node name="1" parent="Exits" index="1" instance=ExtResource( 5 )]
position = Vector2( 520, -56 )

[node name="area" type="CollisionShape2D" parent="Exits/1" index="0"]
shape = SubResource( 2 )

[node name="2" parent="Exits" index="2" instance=ExtResource( 5 )]
position = Vector2( 1056, 256 )

[node name="area" type="CollisionShape2D" parent="Exits/2" index="0"]
shape = SubResource( 1 )

[node name="3" parent="Exits" index="3" instance=ExtResource( 5 )]
position = Vector2( 512, 648 )

[node name="area" type="CollisionShape2D" parent="Exits/3" index="0"]
shape = SubResource( 2 )

[node name="0" type="Position2D" parent="Entrances" index="0"]
position = Vector2( 16, 256 )
__meta__ = {
"_gizmo_extents_": 50.0
}

[node name="1" type="Position2D" parent="Entrances" index="1"]
position = Vector2( 520, 40 )
__meta__ = {
"_gizmo_extents_": 50.0
}

[node name="2" type="Position2D" parent="Entrances" index="2"]
position = Vector2( 1000, 256 )
__meta__ = {
"_gizmo_extents_": 50.0
}

[node name="3" type="Position2D" parent="Entrances" index="3"]
position = Vector2( 512, 512 )
__meta__ = {
"_gizmo_extents_": 50.0
}
[connection signal="exit_entered" from="Exits/0" to="." method="_on_exit_entered"]
[connection signal="exit_entered" from="Exits/1" to="." method="_on_exit_entered"]
[connection signal="exit_entered" from="Exits/2" to="." method="_on_exit_entered"]
[connection signal="exit_entered" from="Exits/3" to="." method="_on_exit_entered"]
